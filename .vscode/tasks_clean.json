{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "üß™ Test: Run All Tests",
            "type": "shell",
            "command": "make",
            "args": ["test"],
            "group": {
                "kind": "test",
                "isDefault": true
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "showReuseMessage": true,
                "clear": false,
                "group": "testing"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üß™ Test: Current Module",
            "type": "shell",
            "command": "make",
            "args": ["test-module", "MODULE=${input:moduleName}"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "testing"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üîÑ Test: Integration Tests",
            "type": "shell",
            "command": "make",
            "args": ["test-integration"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "testing"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "‚ö° Test: Performance Tests",
            "type": "shell",
            "command": "make",
            "args": ["test-performance"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "testing"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üë• Test: Customer Workflows",
            "type": "shell",
            "command": "make",
            "args": ["test-customer-flows"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "testing"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üí∞ Test: Sales Workflows",
            "type": "shell",
            "command": "make",
            "args": ["test-sales-flows"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "testing"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üóÉÔ∏è Test: Database Performance",
            "type": "shell",
            "command": "make",
            "args": ["test-database-performance"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "testing"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üñ•Ô∏è Test: View Performance",
            "type": "shell",
            "command": "make",
            "args": ["test-view-performance"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "testing"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üöÄ Test: CI/CD Pipeline",
            "type": "shell",
            "command": "make",
            "args": ["test-integration-ci"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "dedicated",
                "group": "testing"
            },
            "problemMatcher": ["$python"]
        },

        {
            "label": "üìä Coverage: Generate Report",
            "type": "shell",
            "command": "make",
            "args": ["coverage-report"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "coverage"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üìä Coverage: HTML Report",
            "type": "shell",
            "command": "make",
            "args": ["coverage-html"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "silent",
                "focus": false,
                "panel": "shared",
                "group": "coverage"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üìä Coverage: Validate Thresholds",
            "type": "shell",
            "command": "make",
            "args": ["coverage-validate"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "coverage"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üìä Coverage: Full Analysis",
            "type": "shell",
            "command": "make",
            "args": ["coverage-full"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "coverage"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üìä Coverage: Insights & Recommendations",
            "type": "shell",
            "command": "make",
            "args": ["coverage-insights"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "coverage"
            },
            "problemMatcher": ["$python"]
        },

        {
            "label": "üîç Lint: All Code",
            "type": "shell",
            "command": "make",
            "args": ["lint"],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "quality"
            },
            "problemMatcher": [
                {
                    "owner": "flake8",
                    "fileLocation": ["relative", "${workspaceFolder}"],
                    "pattern": {
                        "regexp": "^(.+):(\\d+):(\\d+): (\\w+)(\\d+) (.+)$",
                        "file": 1,
                        "line": 2,
                        "column": 3,
                        "severity": 4,
                        "code": 5,
                        "message": 6
                    }
                },
                {
                    "owner": "pylint",
                    "fileLocation": ["relative", "${workspaceFolder}"],
                    "pattern": {
                        "regexp": "^(.+):(\\d+):(\\d+): (\\w+): (.+) \\((.+)\\)$",
                        "file": 1,
                        "line": 2,
                        "column": 3,
                        "severity": 4,
                        "message": 5,
                        "code": 6
                    }
                }
            ]
        },
        {
            "label": "üîç Lint: Current File",
            "type": "shell",
            "command": "flake8",
            "args": ["${file}"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "silent",
                "focus": false,
                "panel": "shared",
                "group": "quality"
            },
            "problemMatcher": {
                "owner": "flake8",
                "fileLocation": ["relative", "${workspaceFolder}"],
                "pattern": {
                    "regexp": "^(.+):(\\d+):(\\d+): (\\w+)(\\d+) (.+)$",
                    "file": 1,
                    "line": 2,
                    "column": 3,
                    "severity": 4,
                    "code": 5,
                    "message": 6
                }
            }
        },
        {
            "label": "üé® Format: All Code",
            "type": "shell",
            "command": "make",
            "args": ["format"],
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "silent",
                "focus": false,
                "panel": "shared",
                "group": "quality"
            }
        },
        {
            "label": "üé® Format: Current File",
            "type": "shell",
            "command": "black",
            "args": ["${file}"],
            "group": "build",
            "presentation": {
                "echo": false,
                "reveal": "silent",
                "focus": false,
                "panel": "shared",
                "group": "quality"
            }
        },
        {
            "label": "üîç Lint: Pylint Odoo",
            "type": "shell",
            "command": "make",
            "args": ["pylint-odoo"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "quality"
            },
            "problemMatcher": {
                "owner": "pylint-odoo",
                "fileLocation": ["relative", "${workspaceFolder}"],
                "pattern": {
                    "regexp": "^(.+):(\\d+):(\\d+): (\\w+): (.+) \\((.+)\\)$",
                    "file": 1,
                    "line": 2,
                    "column": 3,
                    "severity": 4,
                    "message": 5,
                    "code": 6
                }
            }
        },
        {
            "label": "üîç Type Check: MyPy",
            "type": "shell",
            "command": "make",
            "args": ["mypy"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "quality"
            },
            "problemMatcher": {
                "owner": "mypy",
                "fileLocation": ["relative", "${workspaceFolder}"],
                "pattern": {
                    "regexp": "^(.+):(\\d+): (error|warning|note): (.+)$",
                    "file": 1,
                    "line": 2,
                    "severity": 3,
                    "message": 4
                }
            }
        },

        {
            "label": "‚úÖ Validate: All Modules",
            "type": "shell",
            "command": "make",
            "args": ["validate"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "validation"
            },
            "problemMatcher": {
                "owner": "odoo-validator",
                "fileLocation": ["relative", "${workspaceFolder}"],
                "pattern": {
                    "regexp": "^ERROR: ([^:]+): (.*)$",
                    "file": 1,
                    "message": 2,
                    "severity": "error"
                }
            }
        },
        {
            "label": "‚úÖ Validate: Current Module",
            "type": "shell",
            "command": "make",
            "args": ["validate-module", "MODULE=${input:moduleName}"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "validation"
            },
            "problemMatcher": {
                "owner": "odoo-validator",
                "fileLocation": ["relative", "${workspaceFolder}"],
                "pattern": {
                    "regexp": "^ERROR: ([^:]+): (.*)$",
                    "file": 1,
                    "message": 2,
                    "severity": "error"
                }
            }
        },
        {
            "label": "‚úÖ Validate: Pre-commit Hooks",
            "type": "shell",
            "command": "make",
            "args": ["pre-commit"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "validation"
            },
            "problemMatcher": ["$python"]
        },

        {
            "label": "üì¶ Module: Test Installation",
            "type": "shell",
            "command": "make",
            "args": ["module-test-install", "MODULE=${input:moduleName}", "DEMO=true"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "modules"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üì¶ Module: Test Upgrade",
            "type": "shell",
            "command": "make",
            "args": ["module-test-upgrade", "MODULE=${input:moduleName}"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "modules"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üì¶ Module: Test Dependencies",
            "type": "shell",
            "command": "make",
            "args": ["module-test-dependencies", "MODULE=${input:moduleName}"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "modules"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üì¶ Module: Royal Textiles Complete Test",
            "type": "shell",
            "command": "make",
            "args": ["module-test-royal-textiles"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "modules"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üì¶ Module: RTP Customers Complete Test",
            "type": "shell",
            "command": "make",
            "args": ["module-test-rtp-customers"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "modules"
            },
            "problemMatcher": ["$python"]
        },

        {
            "label": "üóÉÔ∏è DB: Create Database",
            "type": "shell",
            "command": "make",
            "args": ["db-create", "NAME=${input:databaseName}", "TYPE=dev"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "database"
            },
            "problemMatcher": []
        },
        {
            "label": "üóÉÔ∏è DB: List Databases",
            "type": "shell",
            "command": "make",
            "args": ["db-list"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "database"
            },
            "problemMatcher": []
        },
        {
            "label": "üóÉÔ∏è DB: Drop Database",
            "type": "shell",
            "command": "make",
            "args": ["db-drop", "NAME=${input:databaseName}"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "database"
            },
            "problemMatcher": []
        },
        {
            "label": "üóÉÔ∏è DB: Backup Database",
            "type": "shell",
            "command": "make",
            "args": ["backup-create", "NAME=${input:databaseName}"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "database"
            },
            "problemMatcher": []
        },
        {
            "label": "üóÉÔ∏è DB: Create Test Database",
            "type": "shell",
            "command": "make",
            "args": ["test-db-create", "NAME=${input:testDatabaseName}"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "database"
            },
            "problemMatcher": []
        },
        {
            "label": "üóÉÔ∏è DB: Generate Sample Data",
            "type": "shell",
            "command": "make",
            "args": ["data-development", "DB=${input:databaseName}"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "database"
            },
            "problemMatcher": []
        },

        {
            "label": "üöÄ Server: Start Odoo",
            "type": "shell",
            "command": "make",
            "args": ["start-odoo"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "dedicated",
                "group": "server"
            },
            "isBackground": true,
            "problemMatcher": []
        },
        {
            "label": "üöÄ Server: Stop Odoo",
            "type": "shell",
            "command": "make",
            "args": ["stop-odoo"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "server"
            },
            "problemMatcher": []
        },
        {
            "label": "üöÄ Server: Restart Odoo",
            "type": "shell",
            "command": "make",
            "args": ["restart-odoo"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "server"
            },
            "problemMatcher": []
        },
        {
            "label": "üöÄ Server: Start with Debugpy",
            "type": "shell",
            "command": "make",
            "args": ["start-odoo-debug"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "dedicated",
                "group": "server"
            },
            "isBackground": true,
            "problemMatcher": []
        },

        {
            "label": "üê≥ Docker: Start Development Environment",
            "type": "shell",
            "command": "make",
            "args": ["docker-up", "PROFILE=development"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "dedicated",
                "group": "docker"
            },
            "isBackground": true,
            "problemMatcher": []
        },
        {
            "label": "üê≥ Docker: Stop Services",
            "type": "shell",
            "command": "make",
            "args": ["docker-down"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "docker"
            },
            "problemMatcher": []
        },
        {
            "label": "üê≥ Docker: View Logs",
            "type": "shell",
            "command": "make",
            "args": ["docker-logs", "SERVICE=${input:dockerService}"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "docker"
            },
            "problemMatcher": []
        },
        {
            "label": "üê≥ Docker: Open Shell",
            "type": "shell",
            "command": "make",
            "args": ["docker-shell", "SERVICE=${input:dockerService}"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "new",
                "group": "docker"
            },
            "problemMatcher": []
        },
        {
            "label": "üê≥ Docker: Status",
            "type": "shell",
            "command": "make",
            "args": ["docker-status"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "docker"
            },
            "problemMatcher": []
        },

        {
            "label": "üêõ Debug: Setup Debugpy",
            "type": "shell",
            "command": "make",
            "args": ["setup-debugpy"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "debug"
            },
            "problemMatcher": []
        },
        {
            "label": "üêõ Debug: Test Connection",
            "type": "shell",
            "command": "make",
            "args": ["debug-test-connection"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "new",
                "group": "debug"
            },
            "isBackground": true,
            "problemMatcher": []
        },
        {
            "label": "üêõ Debug: Show Help",
            "type": "shell",
            "command": "make",
            "args": ["debug-help"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "debug"
            },
            "problemMatcher": []
        },
        {
            "label": "üêõ Debug: Validate VS Code Config",
            "type": "shell",
            "command": "make",
            "args": ["validate-vscode-config"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "debug"
            },
            "problemMatcher": []
        },

        {
            "label": "üö¢ Deploy: Check Readiness",
            "type": "shell",
            "command": "make",
            "args": ["deploy-check"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "dedicated",
                "group": "deploy"
            },
            "problemMatcher": [
                "$python",
                {
                    "owner": "deploy-check",
                    "fileLocation": ["relative", "${workspaceFolder}"],
                    "pattern": {
                        "regexp": "^‚ùå (.*)$",
                        "message": 1,
                        "severity": "error"
                    }
                }
            ]
        },
        {
            "label": "üö¢ Deploy: Full Validation Pipeline",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "make lint && make validate && make test && make coverage-validate && echo '‚úÖ All checks passed!'"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "dedicated",
                "group": "deploy"
            },
            "problemMatcher": ["$python"]
        },
        {
            "label": "üö¢ Deploy: CI Simulation",
            "type": "shell",
            "command": "bash",
            "args": ["-c", "make test-integration-ci && make test-performance-ci && make module-test-ci"],
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "dedicated",
                "group": "deploy"
            },
            "problemMatcher": ["$python"]
        },

        {
            "label": "üßπ Utility: Clean Temporary Files",
            "type": "shell",
            "command": "make",
            "args": ["clean"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "silent",
                "focus": false,
                "panel": "shared",
                "group": "utility"
            },
            "problemMatcher": []
        },
        {
            "label": "üßπ Utility: Clean Coverage Files",
            "type": "shell",
            "command": "make",
            "args": ["coverage-clean"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "silent",
                "focus": false,
                "panel": "shared",
                "group": "utility"
            },
            "problemMatcher": []
        },
        {
            "label": "üßπ Utility: Clean Debug Processes",
            "type": "shell",
            "command": "make",
            "args": ["debug-cleanup"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "utility"
            },
            "problemMatcher": []
        },
        {
            "label": "üìñ Help: Show All Make Commands",
            "type": "shell",
            "command": "make",
            "args": ["help"],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared",
                "group": "utility"
            },
            "problemMatcher": []
        }
    ],
    "inputs": [
        {
            "id": "moduleName",
            "description": "Enter the module name",
            "default": "royal_textiles_sales",
            "type": "promptString"
        },
        {
            "id": "databaseName",
            "description": "Enter database name",
            "default": "rtp_dev",
            "type": "promptString"
        },
        {
            "id": "testDatabaseName",
            "description": "Enter test database name",
            "default": "test_rtp",
            "type": "promptString"
        },
        {
            "id": "dockerService",
            "description": "Enter Docker service name",
            "default": "odoo",
            "type": "promptString"
        },
        {
            "id": "testType",
            "description": "Select test type",
            "default": "unit",
            "type": "pickString",
            "options": [
                "unit",
                "integration",
                "performance",
                "functional",
                "all"
            ]
        },
        {
            "id": "coverageThreshold",
            "description": "Enter coverage threshold percentage",
            "default": "75",
            "type": "promptString"
        }
    ]
}
